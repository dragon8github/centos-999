# 权限

如图所示，一共十位，左第一位为文件类型。 - 代表文件、d代表文件夹

![](/assets/12e21baa-77ac-4885-986b-75512319877cimport.png)

剩下的9位从左到右，以三个为一组，分别代表某类用户的权限。

* 第一组代表**创建该文件的用户**的权限；
* 第二组代表**与创建用户同组用户**的权限；
* 第三组代表**其他用户**的权限。

这些组中，从左到右顺序分别代表**读（Read）**，**写（Write）**，**执行（EXecute）**。

* “-” ： 表示没有权限（数字0）
* “r” ： 表示可读（数字4）
* “w” ： 表示可写（数字2）
* “x” ： 表示可执行（数字1）

---

#### 扩展知识

第二个栏位：表示文件个数。如果是文件的话，那这个数目自然是1了，如果是目录的话，那它的数目就是该目录中的文件个数了。

第三个栏位：表示该文件或目录的拥有者。若使用者目前处于自己的Home,那这一栏大概都是它的账号名称。

第四个栏位：表示所属的组（group）。每一个使用者都可以拥有一个以上的组，不过大部分的使用者应该都只属于一个组，只有当系统管理员希望给予某使用者特殊权限时，才可能会给他另一个组。

第五栏位：表示文件大小。文件大小用byte来表示，而空目录一般都是1024byte，你当然可以用其它参数使文件显示的单位不同，如使用ls –k就是用kb莱显示一个文件的大小单位，不过一般我们还是以byte为主。

第六个栏位：表示创建日期。以“月，日，时间”的格式表示，如Aug 15 5:46表示8月15日早上5:46分。

第七个栏位：表示文件名。我们可以用ls –a显示隐藏的文件名。

---

> $ chmod o+x aa

代表给aa文件中，其他用户组（ohter）添加可执行权限。

> $ chmod 777 aa

代表给aa文件。所有的用户添加所有权限。强烈不推荐这样不安全的设置，推荐下面这种

> $ chmod 755 aa

只有创建者拥有全部权限，同组、其他用户仅拥有读和执行的权限。

> $ chmod o-x aa

删除其他用户（other）对aa文件的执行权限。

> $ chmod +x aa

所有用户获取对aa文件的执行权限

---

# shell入门脚本

新建 test.sh：

```php
# 定义变量（大写是为了规范，等号两边不可以有空格！）
ERROR_LOG_FILE='error.log'
# `符号可以让执行命令或程序的结果赋值到某个变量中
CUR_TIME=`date +'%Y-%m-%d %H:%M-%S'`

# 判断是否存在error.log文件（使用变量的方式是加入$）
# - f 正规文件
# - d 目录
# - s 文件长度大于0、非空
# - w 可写
# - L 符号连接
# - u 文件有s u i d位设置
# - r 可读
# - x 可执行
if [ -f $ERROR_LOG_FILE ]
    then
        # >>是插入新的一行
        # 字符串中嵌套变量必须是双引号
        echo "add log at $CUR_TIME" >> error.log
    else
        # >是将输出的内容插入error.log文件中，如果文件不存在则先创建再插入。
        # 如果要使\n生效。那么就需要加入-e参数
        echo -e 'log init \r\n' > error.log
fi
```

执行两遍脚本：

> #### **$ ./test.sh**
>
> 新建error.log文件，文本内容为log init
>
> #### **$ ./test.sh**
>
> 新插入当前时间

效果如图所示：

![](/assets/啊撒大声地2123123123import.png)

